export const bibleStructure = {
    oldTestament: {
        title: 'êµ¬ì•½',
        info: '(ì´ 929ì¥ 23,145ì ˆ)',
        categories: {
            pentateuch: {
                title: 'ëª¨ì„¸ì˜¤ê²½',
                books: [
                    { name: 'ì°½ì„¸ê¸°', info: '50ì¥ 1,533ì ˆ' },
                    { name: 'ì¶œì• êµ½ê¸°', info: '40ì¥ 1,213ì ˆ' },
                    { name: 'ë ˆìœ„ê¸°', info: '27ì¥ 859ì ˆ' },
                    { name: 'ë¯¼ìˆ˜ê¸°', info: '36ì¥ 1,288ì ˆ' },
                    { name: 'ì‹ ëª…ê¸°', info: '34ì¥ 959ì ˆ' }
                ]
            },
            historical: {
                title: 'ì—­ì‚¬ì„œ',
                books: [
                    { name: 'ì—¬í˜¸ìˆ˜ì•„', info: '24ì¥ 658ì ˆ' },
                    { name: 'ì‚¬ì‚¬ê¸°', info: '21ì¥ 618ì ˆ' },
                    { name: 'ë£»ê¸°', info: '4ì¥ 85ì ˆ' },
                    { name: 'ì‚¬ë¬´ì—˜ìƒ', info: '31ì¥ 810ì ˆ' },
                    { name: 'ì‚¬ë¬´ì—˜í•˜', info: '24ì¥ 695ì ˆ' },
                    { name: 'ì—´ì™•ê¸°ìƒ', info: '22ì¥ 816ì ˆ' },
                    { name: 'ì—´ì™•ê¸°í•˜', info: '25ì¥ 719ì ˆ' },
                    { name: 'ì—­ëŒ€ìƒ', info: '29ì¥ 942ì ˆ' },
                    { name: 'ì—­ëŒ€í•˜', info: '36ì¥ 822ì ˆ' },
                    { name: 'ì—ìŠ¤ë¼', info: '10ì¥ 280ì ˆ' },
                    { name: 'ëŠí—¤ë¯¸ì•¼', info: '13ì¥ 406ì ˆ' },
                    { name: 'ì—ìŠ¤ë”', info: '10ì¥ 167ì ˆ' }
                ]
            },
            poetic: {
                title: 'ì‹œê°€ì„œ',
                books: [
                    { name: 'ìš¥ê¸°', info: '42ì¥ 1,070ì ˆ' },
                    { name: 'ì‹œí¸', info: '150ì¥ 2,461ì ˆ' },
                    { name: 'ì ì–¸', info: '31ì¥ 915ì ˆ' },
                    { name: 'ì „ë„ì„œ', info: '12ì¥ 222ì ˆ' },
                    { name: 'ì•„ê°€ì„œ', info: '8ì¥ 117ì ˆ' }
                ]
            },
            majorProphets: {
                title: 'ëŒ€ì„ ì§€ì„œ',
                books: [
                    { name: 'ì´ì‚¬ì•¼', info: '66ì¥ 1,292ì ˆ' },
                    { name: 'ì˜ˆë ˆë¯¸ì•¼', info: '52ì¥ 1,364ì ˆ' },
                    { name: 'ì˜ˆë ˆë¯¸ì•¼ì• ê°€', info: '5ì¥ 154ì ˆ' },
                    { name: 'ì—ìŠ¤ê²”', info: '48ì¥ 1,273ì ˆ' },
                    { name: 'ë‹¤ë‹ˆì—˜', info: '12ì¥ 357ì ˆ' }
                ]
            },
            minorProphets: {
                title: 'ì†Œì„ ì§€ì„œ',
                books: [
                    { name: 'í˜¸ì„¸ì•„', info: '14ì¥ 197ì ˆ' },
                    { name: 'ìš”ì—˜', info: '3ì¥ 73ì ˆ' },
                    { name: 'ì•„ëª¨ìŠ¤', info: '9ì¥ 146ì ˆ' },
                    { name: 'ì˜¤ë°”ëŒœ', info: '1ì¥ 21ì ˆ' },
                    { name: 'ìš”ë‚˜', info: '4ì¥ 48ì ˆ' },
                    { name: 'ë¯¸ê°€', info: '7ì¥ 105ì ˆ' },
                    { name: 'ë‚˜í›”', info: '3ì¥ 47ì ˆ' },
                    { name: 'í•˜ë°•êµ­', info: '3ì¥ 56ì ˆ' },
                    { name: 'ìŠ¤ë°”ëƒ', info: '3ì¥ 53ì ˆ' },
                    { name: 'í•™ê°œ', info: '2ì¥ 38ì ˆ' },
                    { name: 'ìŠ¤ê°€ë´', info: '14ì¥ 211ì ˆ' },
                    { name: 'ë§ë¼ê¸°', info: '4ì¥ 55ì ˆ' }
                ]
            }
        }
    },
    newTestament: {
        title: 'ì‹ ì•½',
        info: '(ì´ 260ì¥ 7,957ì ˆ)',
        categories: {
            gospels: {
                title: 'ë³µìŒì„œ',
                books: [
                    { name: 'ë§ˆíƒœë³µìŒ', info: '28ì¥ 1,071ì ˆ' },
                    { name: 'ë§ˆê°€ë³µìŒ', info: '16ì¥ 678ì ˆ' },
                    { name: 'ëˆ„ê°€ë³µìŒ', info: '24ì¥ 1,151ì ˆ' },
                    { name: 'ìš”í•œë³µìŒ', info: '21ì¥ 879ì ˆ' }
                ]
            },
            acts: {
                title: 'ì—­ì‚¬ì„œ',
                books: [
                    { name: 'ì‚¬ë„í–‰ì „', info: '28ì¥ 1,007ì ˆ' }
                ]
            },
            churchEpistles: {
                title: 'êµíšŒ ì„œì‹ ì„œ',
                books: [
                    { name: 'ë¡œë§ˆì„œ', info: '16ì¥ 433ì ˆ' },
                    { name: 'ê³ ë¦°ë„ì „ì„œ', info: '16ì¥ 437ì ˆ' },
                    { name: 'ê³ ë¦°ë„í›„ì„œ', info: '13ì¥ 257ì ˆ' },
                    { name: 'ê°ˆë¼ë””ì•„ì„œ', info: '6ì¥ 149ì ˆ' },
                    { name: 'ì—ë² ì†Œì„œ', info: '6ì¥ 155ì ˆ' },
                    { name: 'ë¹Œë¦½ë³´ì„œ', info: '4ì¥ 104ì ˆ' },
                    { name: 'ê³¨ë¡œìƒˆì„œ', info: '4ì¥ 95ì ˆ' },
                    { name: 'ë°ì‚´ë¡œë‹ˆê°€ì „ì„œ', info: '5ì¥ 89ì ˆ' },
                    { name: 'ë°ì‚´ë¡œë‹ˆê°€í›„ì„œ', info: '3ì¥ 47ì ˆ' }
                ]
            },
            pastoralAndGeneralEpistles: {
                title: 'ëª©íšŒ ì„œì‹ ì„œ',
                books: [
                    { name: 'ë””ëª¨ë°ì „ì„œ', info: '6ì¥ 113ì ˆ' },
                    { name: 'ë””ëª¨ë°í›„ì„œ', info: '4ì¥ 83ì ˆ' },
                    { name: 'ë””ë„ì„œ', info: '3ì¥ 46ì ˆ' },
                    { name: 'ë¹Œë ˆëª¬ì„œ', info: '1ì¥ 25ì ˆ' },
                    { name: 'íˆë¸Œë¦¬ì„œ', info: '13ì¥ 303ì ˆ' },
                    { name: 'ì•¼ê³ ë³´ì„œ', info: '5ì¥ 108ì ˆ' },
                    { name: 'ë² ë“œë¡œì „ì„œ', info: '5ì¥ 105ì ˆ' },
                    { name: 'ë² ë“œë¡œí›„ì„œ', info: '3ì¥ 61ì ˆ' },
                    { name: 'ìš”í•œ1ì„œ', info: '5ì¥ 105ì ˆ' },
                    { name: 'ìš”í•œ2ì„œ', info: '1ì¥ 13ì ˆ' },
                    { name: 'ìš”í•œ3ì„œ', info: '1ì¥ 14ì ˆ' },
                    { name: 'ìœ ë‹¤ì„œ', info: '1ì¥ 25ì ˆ' }
                ]
            },
            revelation: {
                title: 'ì˜ˆì–¸ì„œ',
                books: [
                    { name: 'ìš”í•œê³„ì‹œë¡', info: '22ì¥ 404ì ˆ' }
                ]
            }
        }
    }
};

// ì„±ê²½ ì¹´í…Œê³ ë¦¬ë³„ ì´ëª¨ì§€ ë§¤í•‘
export const categoryEmojis = {
    pentateuch: 'ğŸ“š',
    historical: 'ğŸ“œ',
    poetic: 'ğŸµ',
    majorProphets: 'ğŸ”®',
    minorProphets: 'âœ¨',
    gospels: 'âœï¸',
    acts: 'âš¡',
    churchEpistles: 'âœ‰ï¸',
    pastoralAndGeneralEpistles: 'ğŸ“¨',
    revelation: 'ğŸŒŸ'
};

// ì„±ê²½ ì´ë¦„ìœ¼ë¡œ ì„±ê²½ ì •ë³´ ì°¾ê¸°
export function findBibleByName(name) {
    const allBibles = [];

    // êµ¬ì•½ ì„±ê²½ë“¤
    Object.values(bibleStructure.oldTestament.categories).forEach(category => {
        category.books.forEach(book => {
            allBibles.push({ ...book, testament: 'oldTestament', category: category.title });
        });
    });

    // ì‹ ì•½ ì„±ê²½ë“¤
    Object.values(bibleStructure.newTestament.categories).forEach(category => {
        category.books.forEach(book => {
            allBibles.push({ ...book, testament: 'newTestament', category: category.title });
        });
    });

    return allBibles.find(bible => bible.name === name);
}

// ì„±ê²½ ëª©ë¡ HTML ìƒì„±
export function generateBibleListHTML(meditations = []) {
    let html = '';

    // êµ¬ì•½
    html += `
    <div class="testament-section">
      <h2>
        <span style="font-size: 2.8rem;">ğŸ“–</span> 
        ${bibleStructure.oldTestament.title} (39ê¶Œ)
        <div class="testament-info">${bibleStructure.oldTestament.info}</div>
      </h2>
      ${generateTestamentHTML('oldTestament', meditations)}
    </div>
  `;

    // ì‹ ì•½
    html += `
    <div class="testament-section">
      <h2>
        <span style="font-size: 2.8rem;">ğŸ“–</span> 
        ${bibleStructure.newTestament.title} (27ê¶Œ)
        <div class="testament-info">${bibleStructure.newTestament.info}</div>
      </h2>
      ${generateTestamentHTML('newTestament', meditations)}
    </div>
  `;

    return html;
}

// ì„±ê²½ë³„ ë¬µìƒ ìˆ˜ ê³„ì‚°
function getMeditationCount(bookName, meditations) {
    return meditations.filter(meditation =>
        meditation.bibleReference.includes(bookName)
    ).length;
}

// ì„±ê²½ë³„ HTML ìƒì„±
function generateTestamentHTML(testament, meditations) {
    const testamentData = bibleStructure[testament];

    return `
    <div class="bible-categories">
      ${Object.entries(testamentData.categories).map(([key, category]) => `
        <div class="bible-category">
          <h3>
            <span>${categoryEmojis[key]}</span> 
            ${category.title} (${category.books.length}ê¶Œ)
          </h3>
          <div class="bible-books">
            ${category.books.map(book => {
        const meditationCount = getMeditationCount(book.name, meditations);
        return `
                <div class="bible-book" data-book="${book.name}">
                  <div class="book-name">${book.name}</div>
                  <div class="book-info">${book.info}</div>
                  <div class="meditation-count">${meditationCount} ë¬µìƒ</div>
                  <button class="btn-new-meditation" onclick="handleBibleBookClick('${book.name}')">
                    <i class="fas fa-plus"></i> ìƒˆ ë¬µìƒ ì‘ì„±
                  </button>
                </div>
              `;
    }).join('')}
          </div>
        </div>
      `).join('')}
    </div>
  `;
} 
